<div *ngIf="isSignedUp; else signupForm">
    Your registration is successful. Please login!
</div>

<ng-template #signupForm>
    <div *ngIf="isLoggedIn; else loggedOut">
        Logged in as {{roles}}.
    </div>

    <ng-template #loggedOut>
        <div class="row">
            <div class="col-xs-12 col-md-6 col-offset-3">
                <form #authForm="ngForm" (ngSubmit)="onSubmit(authForm)">
                    <div class="form-group">
                        <label for="name">Your name</label>
                        <input
                            type="text"
                            id="name"
                            class="form-control"
                            ngModel
                            name="name"
                            required>
                    </div>
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input
                            type="text"
                            id="username"
                            class="form-control"
                            ngModel
                            name="username"
                            required>
                    </div>
                    <div class="form-group">
                        <label for="email">E-Mail</label>
                        <input
                            type="email"
                            id="email"
                            class="form-control"
                            ngModel
                            name="email"
                            required
                            email>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input
                            type="password"
                            id="password"
                            class="form-control"
                            ngModel
                            name="password"
                            required
                            minlength="6">
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary" type="submit" [disabled]="!authForm.valid">Sign up</button>
                        <div *ngIf="authForm.submitted && isSignUpFailed" class="alert alert-warning">
                            Signup failed!<br />{{errorMessage}}
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </ng-template>
</ng-template>